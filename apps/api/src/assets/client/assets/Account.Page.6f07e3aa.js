import{Q as Ol}from"./QPage.c2db014c.js";import{l as nt,r as I,ab as Rl,_ as at,m as B,z as N,A as q,d as A,I as lt,Q as Ue,ai as mt,G as Vt,B as G,H as et,aj as Hl,q as Ke,ak as $l,al as Dl,c as p,am as Ql,h as _,an as Ul,ao as Kl,g as it,a2 as me,s as rl,u as ut,ap as Ut,Z as Me,N as Ce,aq as jl,w as se,a0 as Kt,a1 as Wl,a7 as Yl,ar as Xl,as as Gl,X as Jl,at as Zl,n as ve,au as eo,av as to,K as ht,aw as He,J as lo,ax as Le,ay as oo,aa as no,az as oe,af as Ne,aA as ao,aB as io,aC as uo,C as gt}from"./index.3e935c67.js";import{Q as ro}from"./QSpace.a128dd84.js";import{Q as qt,a as so}from"./QCard.c1963adf.js";import{Q as sl,u as Tt,a as cl,b as dl,c as fl,d as co,e as fo,f as jt,g as vo,h as Wt,i as mo,j as ho}from"./QForm.10eac8bb.js";import{u as go,e as So,f as yo,g as po,h as bo,i as wo,j as Co,k as Eo,r as kt,l as Yt,m as vl,n as _o,d as Vo,Q as tt,a as ne,b as ml,c as he}from"./QList.a634341b.js";import{u as ko,a as qo,c as To}from"./focus-manager.bc8f5bcf.js";import{c as xo,b as Ao,h as Io}from"./scroll.7f4e30db.js";import{u as xt,p as St,b as yt,C as Xt,a as Fo,c as Lo}from"./profile-store-api.042537c7.js";import{C as Mo}from"./CancelablePromise.f264a6fa.js";import"./axios.ae2e2349.js";import"./store-state.enum.0423141e.js";const Bo=nt({name:"AccountProfileCard",setup(){const e=I(!1),l=Rl();return{isEditMode:e,emitter:l}},methods:{enableEditMode(){this.isEditMode=!0},disableEditMode(){this.isEditMode=!1}},mounted(){this.emitter.on("ExitEdit",this.disableEditMode)},unmounted(){this.emitter.off("ExitEdit",this.disableEditMode)}}),No={class:"row items-center no-wrap ellipsis"},zo={class:"ellipsis text-h6 text-bold q-mr-md"};function Po(e,l,o,n,d,a){return B(),N(so,{style:{"max-width":"600px"},bordered:"",class:"q-pa-sm"},{default:q(()=>[A(qt,{class:"q-pa-sm row wrap items-center",size:"lg"},{default:q(()=>[lt("div",No,[A(Ue,{name:"person",size:"lg"}),lt("div",zo,[mt(e.$slots,"header",{},void 0,!0)])]),A(ro),e.isEditMode?et("",!0):(B(),N(Vt,{key:0,inline:"",dense:"",ripple:!1,color:"purple",class:"hover-underline q-px-md q-py-none",style:{},onClick:l[0]||(l[0]=c=>e.enableEditMode())},{default:q(()=>[G("Edit")]),_:1}))]),_:3}),A(sl),e.isEditMode?et("",!0):mt(e.$slots,"content-view",{key:0},void 0,!0),(B(),N(Hl,null,{default:q(()=>[e.isEditMode?mt(e.$slots,"content-edit",{key:0,emitter:e.emitter},void 0,!0):et("",!0)]),_:3}))]),_:3})}var Oo=at(Bo,[["render",Po],["__scopeId","data-v-28094abb"]]);const Ro={xs:8,sm:10,md:14,lg:20,xl:24};var hl=Ke({name:"QChip",props:{...ko,...$l,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:l,emit:o}){const{proxy:{$q:n}}=it(),d=qo(e,n),a=Dl(e,Ro),c=p(()=>e.selected===!0||e.icon!==void 0),y=p(()=>e.selected===!0?e.iconSelected||n.iconSet.chip.selected:e.icon),S=p(()=>e.iconRemove||n.iconSet.chip.remove),T=p(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),f=p(()=>{const k=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(k?` text-${k} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(T.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(d.value===!0?" q-chip--dark q-dark":"")}),V=p(()=>{const k=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},K={...k,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||n.lang.label.remove};return{chip:k,remove:K}});function F(k){k.keyCode===13&&m(k)}function m(k){e.disable||(o("update:selected",!e.selected),o("click",k))}function O(k){(k.keyCode===void 0||k.keyCode===13)&&(me(k),e.disable===!1&&(o("update:modelValue",!1),o("remove")))}function R(){const k=[];T.value===!0&&k.push(_("div",{class:"q-focus-helper"})),c.value===!0&&k.push(_(Ue,{class:"q-chip__icon q-chip__icon--left",name:y.value}));const K=e.label!==void 0?[_("div",{class:"ellipsis"},[e.label])]:void 0;return k.push(_("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Ul(l.default,K))),e.iconRight&&k.push(_(Ue,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&k.push(_(Ue,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:S.value,...V.value.remove,onClick:O,onKeyup:O})),k}return()=>{if(e.modelValue===!1)return;const k={class:f.value,style:a.value};return T.value===!0&&Object.assign(k,V.value.chip,{onClick:m,onKeyup:F}),Ql("div",k,R(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Kl,e.ripple]])}}}),Ho=Ke({name:"QField",inheritAttrs:!1,props:Tt,emits:cl,setup(){return dl(fl())}}),_e=Ke({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:l}){const o=p(()=>parseInt(e.lines,10)),n=p(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(o.value===1?" ellipsis":"")),d=p(()=>e.lines!==void 0&&o.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":o.value}:null);return()=>_("div",{style:d.value,class:n.value},rl(l.default))}});function $o(e,l,o){let n;function d(){n!==void 0&&(Ut.remove(n),n=void 0)}return ut(()=>{e.value===!0&&d()}),{removeFromHistory:d,addToHistory(){n={condition:()=>o.value===!0,handler:l},Ut.add(n)}}}let $e=0,pt,bt,Qe,wt=!1,Gt,Jt,Zt,Ee=null;function Do(e){Qo(e)&&me(e)}function Qo(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const l=jl(e),o=e.shiftKey&&!e.deltaX,n=!o&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),d=o||n?e.deltaY:e.deltaX;for(let a=0;a<l.length;a++){const c=l[a];if(Io(c,n))return n?d<0&&c.scrollTop===0?!0:d>0&&c.scrollTop+c.clientHeight===c.scrollHeight:d<0&&c.scrollLeft===0?!0:d>0&&c.scrollLeft+c.clientWidth===c.scrollWidth}return!0}function el(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function Je(e){wt!==!0&&(wt=!0,requestAnimationFrame(()=>{wt=!1;const{height:l}=e.target,{clientHeight:o,scrollTop:n}=document.scrollingElement;(Qe===void 0||l!==window.innerHeight)&&(Qe=o-l,document.scrollingElement.scrollTop=n),n>Qe&&(document.scrollingElement.scrollTop-=Math.ceil((n-Qe)/8))}))}function tl(e){const l=document.body,o=window.visualViewport!==void 0;if(e==="add"){const{overflowY:n,overflowX:d}=window.getComputedStyle(l);pt=xo(window),bt=Ao(window),Gt=l.style.left,Jt=l.style.top,Zt=window.location.href,l.style.left=`-${pt}px`,l.style.top=`-${bt}px`,d!=="hidden"&&(d==="scroll"||l.scrollWidth>window.innerWidth)&&l.classList.add("q-body--force-scrollbar-x"),n!=="hidden"&&(n==="scroll"||l.scrollHeight>window.innerHeight)&&l.classList.add("q-body--force-scrollbar-y"),l.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,Me.is.ios===!0&&(o===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",Je,Ce.passiveCapture),window.visualViewport.addEventListener("scroll",Je,Ce.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",el,Ce.passiveCapture))}Me.is.desktop===!0&&Me.is.mac===!0&&window[`${e}EventListener`]("wheel",Do,Ce.notPassive),e==="remove"&&(Me.is.ios===!0&&(o===!0?(window.visualViewport.removeEventListener("resize",Je,Ce.passiveCapture),window.visualViewport.removeEventListener("scroll",Je,Ce.passiveCapture)):window.removeEventListener("scroll",el,Ce.passiveCapture)),l.classList.remove("q-body--prevent-scroll"),l.classList.remove("q-body--force-scrollbar-x"),l.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,l.style.left=Gt,l.style.top=Jt,window.location.href===Zt&&window.scrollTo(pt,bt),Qe=void 0)}function Uo(e){let l="add";if(e===!0){if($e++,Ee!==null){clearTimeout(Ee),Ee=null;return}if($e>1)return}else{if($e===0||($e--,$e>0))return;if(l="remove",Me.is.ios===!0&&Me.is.nativeMobile===!0){Ee!==null&&clearTimeout(Ee),Ee=setTimeout(()=>{tl(l),Ee=null},100);return}}tl(l)}function Ko(){let e;return{preventBodyScroll(l){l!==e&&(e!==void 0||l===!0)&&(e=l,Uo(l))}}}let Ze=0;const jo={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},ll={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var Wo=Ke({name:"QDialog",inheritAttrs:!1,props:{...go,...So,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...yo,"shake","click","escapeKey"],setup(e,{slots:l,emit:o,attrs:n}){const d=it(),a=I(null),c=I(!1),y=I(!1);let S=null,T=null,f,V;const F=p(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:m}=Ko(),{registerTimeout:O}=po(),{registerTick:R,removeTick:k}=bo(),{transitionProps:K,transitionStyle:D}=wo(e,()=>ll[e.position][0],()=>ll[e.position][1]),{showPortal:J,hidePortal:z,portalIsAccessible:P,renderPortal:Z}=Co(d,a,L,"dialog"),{hide:te}=Eo({showing:c,hideOnRouteChange:F,handleShow:ye,handleHide:ie,processOnMount:!0}),{addToHistory:ce,removeFromHistory:ge}=$o(c,te,F),ae=p(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${jo[e.position]}`+(y.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),Q=p(()=>c.value===!0&&e.seamless!==!0),de=p(()=>e.autoClose===!0?{onClick:u}:{}),Se=p(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${Q.value===!0?"modal":"seamless"}`,n.class]);se(()=>e.maximized,g=>{c.value===!0&&r(g)}),se(Q,g=>{m(g),g===!0?(vl(b),_o(ue)):(kt(b),Yt(ue))});function ye(g){ce(),T=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,r(e.maximized),J(),y.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),R(j)):k(),O(()=>{if(d.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:v,bottom:C}=document.activeElement.getBoundingClientRect(),{innerHeight:$}=window,E=window.visualViewport!==void 0?window.visualViewport.height:$;v>0&&C>E/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-E,C>=$?1/0:Math.ceil(document.scrollingElement.scrollTop+C-E/2))),document.activeElement.scrollIntoView()}V=!0,a.value.click(),V=!1}J(!0),y.value=!1,o("show",g)},e.transitionDuration)}function ie(g){k(),ge(),re(!0),y.value=!0,z(),T!==null&&(((g&&g.type.indexOf("key")===0?T.closest('[tabindex]:not([tabindex^="-"])'):void 0)||T).focus(),T=null),O(()=>{z(!0),y.value=!1,o("hide",g)},e.transitionDuration)}function j(g){To(()=>{let v=a.value;v===null||v.contains(document.activeElement)===!0||(v=(g!==""?v.querySelector(g):null)||v.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||v.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||v.querySelector("[autofocus], [data-autofocus]")||v,v.focus({preventScroll:!0}))})}function fe(g){g&&typeof g.focus=="function"?g.focus({preventScroll:!0}):j(),o("shake");const v=a.value;v!==null&&(v.classList.remove("q-animate--scale"),v.classList.add("q-animate--scale"),S!==null&&clearTimeout(S),S=setTimeout(()=>{S=null,a.value!==null&&(v.classList.remove("q-animate--scale"),j())},170))}function ue(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&fe():(o("escapeKey"),te()))}function re(g){S!==null&&(clearTimeout(S),S=null),(g===!0||c.value===!0)&&(r(!1),e.seamless!==!0&&(m(!1),kt(b),Yt(ue))),g!==!0&&(T=null)}function r(g){g===!0?f!==!0&&(Ze<1&&document.body.classList.add("q-body--dialog"),Ze++,f=!0):f===!0&&(Ze<2&&document.body.classList.remove("q-body--dialog"),Ze--,f=!1)}function u(g){V!==!0&&(te(g),o("click",g))}function h(g){e.persistent!==!0&&e.noBackdropDismiss!==!0?te(g):e.noShake!==!0&&fe()}function b(g){e.allowFocusOutside!==!0&&P.value===!0&&Wl(a.value,g.target)!==!0&&j('[tabindex]:not([tabindex="-1"])')}Object.assign(d.proxy,{focus:j,shake:fe,__updateRefocusTarget(g){T=g||null}}),ut(re);function L(){return _("div",{role:"dialog","aria-modal":Q.value===!0?"true":"false",...n,class:Se.value},[_(Kt,{name:"q-transition--fade",appear:!0},()=>Q.value===!0?_("div",{class:"q-dialog__backdrop fixed-full",style:D.value,"aria-hidden":"true",tabindex:-1,onClick:h}):null),_(Kt,K.value,()=>c.value===!0?_("div",{ref:a,class:ae.value,style:D.value,tabindex:-1,...de.value},rl(l.default)):null)])}return Z}});let ot=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const l=document.createElement("div");Object.assign(l.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(l),e.scrollLeft=-1e3,ot=e.scrollLeft>=0,e.remove()}const ee=1e3,Yo=["start","center","end","start-force","center-force","end-force"],gl=Array.prototype.filter,Xo=window.getComputedStyle(document.body).overflowAnchor===void 0?Yl:function(e,l){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const o=e.children||[];gl.call(o,d=>d.dataset&&d.dataset.qVsAnchor!==void 0).forEach(d=>{delete d.dataset.qVsAnchor});const n=o[l];n&&n.dataset&&(n.dataset.qVsAnchor="")}))};function ze(e,l){return e+l}function Ct(e,l,o,n,d,a,c,y){const S=e===window?document.scrollingElement||document.documentElement:e,T=d===!0?"offsetWidth":"offsetHeight",f={scrollStart:0,scrollViewSize:-c-y,scrollMaxSize:0,offsetStart:-c,offsetEnd:-y};if(d===!0?(e===window?(f.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,f.scrollViewSize+=document.documentElement.clientWidth):(f.scrollStart=S.scrollLeft,f.scrollViewSize+=S.clientWidth),f.scrollMaxSize=S.scrollWidth,a===!0&&(f.scrollStart=(ot===!0?f.scrollMaxSize-f.scrollViewSize:0)-f.scrollStart)):(e===window?(f.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,f.scrollViewSize+=document.documentElement.clientHeight):(f.scrollStart=S.scrollTop,f.scrollViewSize+=S.clientHeight),f.scrollMaxSize=S.scrollHeight),o!==null)for(let V=o.previousElementSibling;V!==null;V=V.previousElementSibling)V.classList.contains("q-virtual-scroll--skip")===!1&&(f.offsetStart+=V[T]);if(n!==null)for(let V=n.nextElementSibling;V!==null;V=V.nextElementSibling)V.classList.contains("q-virtual-scroll--skip")===!1&&(f.offsetEnd+=V[T]);if(l!==e){const V=S.getBoundingClientRect(),F=l.getBoundingClientRect();d===!0?(f.offsetStart+=F.left-V.left,f.offsetEnd-=F.width):(f.offsetStart+=F.top-V.top,f.offsetEnd-=F.height),e!==window&&(f.offsetStart+=f.scrollStart),f.offsetEnd+=f.scrollMaxSize-f.offsetStart}return f}function ol(e,l,o,n){l==="end"&&(l=(e===window?document.body:e)[o===!0?"scrollWidth":"scrollHeight"]),e===window?o===!0?(n===!0&&(l=(ot===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-l),window.scrollTo(l,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,l):o===!0?(n===!0&&(l=(ot===!0?e.scrollWidth-e.offsetWidth:0)-l),e.scrollLeft=l):e.scrollTop=l}function De(e,l,o,n){if(o>=n)return 0;const d=l.length,a=Math.floor(o/ee),c=Math.floor((n-1)/ee)+1;let y=e.slice(a,c).reduce(ze,0);return o%ee!==0&&(y-=l.slice(a*ee,o).reduce(ze,0)),n%ee!==0&&n!==d&&(y-=l.slice(n,c*ee).reduce(ze,0)),y}const Go={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},Jo={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Go};function Zo({virtualScrollLength:e,getVirtualScrollTarget:l,getVirtualScrollEl:o,virtualScrollItemSizeComputed:n}){const d=it(),{props:a,emit:c,proxy:y}=d,{$q:S}=y;let T,f,V,F=[],m;const O=I(0),R=I(0),k=I({}),K=I(null),D=I(null),J=I(null),z=I({from:0,to:0}),P=p(()=>a.tableColspan!==void 0?a.tableColspan:100);n===void 0&&(n=p(()=>a.virtualScrollItemSize));const Z=p(()=>n.value+";"+a.virtualScrollHorizontal),te=p(()=>Z.value+";"+a.virtualScrollSliceRatioBefore+";"+a.virtualScrollSliceRatioAfter);se(te,()=>{j()}),se(Z,ce);function ce(){ie(f,!0)}function ge(u){ie(u===void 0?f:u)}function ae(u,h){const b=l();if(b==null||b.nodeType===8)return;const L=Ct(b,o(),K.value,D.value,a.virtualScrollHorizontal,S.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd);V!==L.scrollViewSize&&j(L.scrollViewSize),de(b,L,Math.min(e.value-1,Math.max(0,parseInt(u,10)||0)),0,Yo.indexOf(h)>-1?h:f>-1&&u>f?"end":"start")}function Q(){const u=l();if(u==null||u.nodeType===8)return;const h=Ct(u,o(),K.value,D.value,a.virtualScrollHorizontal,S.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd),b=e.value-1,L=h.scrollMaxSize-h.offsetStart-h.offsetEnd-R.value;if(T===h.scrollStart)return;if(h.scrollMaxSize<=0){de(u,h,0,0);return}V!==h.scrollViewSize&&j(h.scrollViewSize),Se(z.value.from);const g=Math.floor(h.scrollMaxSize-Math.max(h.scrollViewSize,h.offsetEnd)-Math.min(m[b],h.scrollViewSize/2));if(g>0&&Math.ceil(h.scrollStart)>=g){de(u,h,b,h.scrollMaxSize-h.offsetEnd-F.reduce(ze,0));return}let v=0,C=h.scrollStart-h.offsetStart,$=C;if(C<=L&&C+h.scrollViewSize>=O.value)C-=O.value,v=z.value.from,$=C;else for(let E=0;C>=F[E]&&v<b;E++)C-=F[E],v+=ee;for(;C>0&&v<b;)C-=m[v],C>-h.scrollViewSize?(v++,$=C):$=m[v]+C;de(u,h,v,$)}function de(u,h,b,L,g){const v=typeof g=="string"&&g.indexOf("-force")>-1,C=v===!0?g.replace("-force",""):g,$=C!==void 0?C:"start";let E=Math.max(0,b-k.value[$]),W=E+k.value.total;W>e.value&&(W=e.value,E=Math.max(0,W-k.value.total)),T=h.scrollStart;const Ve=E!==z.value.from||W!==z.value.to;if(Ve===!1&&C===void 0){ue(b);return}const{activeElement:Pe}=document,le=J.value;Ve===!0&&le!==null&&le!==Pe&&le.contains(Pe)===!0&&(le.addEventListener("focusout",ye),setTimeout(()=>{le!==null&&le.removeEventListener("focusout",ye)})),Xo(le,b-E);const je=C!==void 0?m.slice(E,b).reduce(ze,0):0;if(Ve===!0){const pe=W>=z.value.from&&E<=z.value.to?z.value.to:W;z.value={from:E,to:pe},O.value=De(F,m,0,E),R.value=De(F,m,W,e.value),requestAnimationFrame(()=>{z.value.to!==W&&T===h.scrollStart&&(z.value={from:z.value.from,to:W},R.value=De(F,m,W,e.value))})}requestAnimationFrame(()=>{if(T!==h.scrollStart)return;Ve===!0&&Se(E);const pe=m.slice(E,b).reduce(ze,0),ke=pe+h.offsetStart+O.value,We=ke+m[b];let Oe=ke+L;if(C!==void 0){const rt=pe-je,Y=h.scrollStart+rt;Oe=v!==!0&&Y<ke&&We<Y+h.scrollViewSize?Y:C==="end"?We-h.scrollViewSize:ke-(C==="start"?0:Math.round((h.scrollViewSize-m[b])/2))}T=Oe,ol(u,Oe,a.virtualScrollHorizontal,S.lang.rtl),ue(b)})}function Se(u){const h=J.value;if(h){const b=gl.call(h.children,E=>E.classList&&E.classList.contains("q-virtual-scroll--skip")===!1),L=b.length,g=a.virtualScrollHorizontal===!0?E=>E.getBoundingClientRect().width:E=>E.offsetHeight;let v=u,C,$;for(let E=0;E<L;){for(C=g(b[E]),E++;E<L&&b[E].classList.contains("q-virtual-scroll--with-prev")===!0;)C+=g(b[E]),E++;$=C-m[v],$!==0&&(m[v]+=$,F[Math.floor(v/ee)]+=$),v++}}}function ye(){J.value!==null&&J.value!==void 0&&J.value.focus()}function ie(u,h){const b=1*n.value;(h===!0||Array.isArray(m)===!1)&&(m=[]);const L=m.length;m.length=e.value;for(let v=e.value-1;v>=L;v--)m[v]=b;const g=Math.floor((e.value-1)/ee);F=[];for(let v=0;v<=g;v++){let C=0;const $=Math.min((v+1)*ee,e.value);for(let E=v*ee;E<$;E++)C+=m[E];F.push(C)}f=-1,T=void 0,O.value=De(F,m,0,z.value.from),R.value=De(F,m,z.value.to,e.value),u>=0?(Se(z.value.from),ve(()=>{ae(u)})):re()}function j(u){if(u===void 0&&typeof window!="undefined"){const C=l();C!=null&&C.nodeType!==8&&(u=Ct(C,o(),K.value,D.value,a.virtualScrollHorizontal,S.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd).scrollViewSize)}V=u;const h=parseFloat(a.virtualScrollSliceRatioBefore)||0,b=parseFloat(a.virtualScrollSliceRatioAfter)||0,L=1+h+b,g=u===void 0||u<=0?1:Math.ceil(u/n.value),v=Math.max(1,g,Math.ceil((a.virtualScrollSliceSize>0?a.virtualScrollSliceSize:10)/L));k.value={total:Math.ceil(v*L),start:Math.ceil(v*h),center:Math.ceil(v*(.5+h)),end:Math.ceil(v*(1+h)),view:g}}function fe(u,h){const b=a.virtualScrollHorizontal===!0?"width":"height",L={["--q-virtual-scroll-item-"+b]:n.value+"px"};return[u==="tbody"?_(u,{class:"q-virtual-scroll__padding",key:"before",ref:K},[_("tr",[_("td",{style:{[b]:`${O.value}px`,...L},colspan:P.value})])]):_(u,{class:"q-virtual-scroll__padding",key:"before",ref:K,style:{[b]:`${O.value}px`,...L}}),_(u,{class:"q-virtual-scroll__content",key:"content",ref:J,tabindex:-1},h.flat()),u==="tbody"?_(u,{class:"q-virtual-scroll__padding",key:"after",ref:D},[_("tr",[_("td",{style:{[b]:`${R.value}px`,...L},colspan:P.value})])]):_(u,{class:"q-virtual-scroll__padding",key:"after",ref:D,style:{[b]:`${R.value}px`,...L}})]}function ue(u){f!==u&&(a.onVirtualScroll!==void 0&&c("virtualScroll",{index:u,from:z.value.from,to:z.value.to-1,direction:u<f?"decrease":"increase",ref:y}),f=u)}j();const re=Xl(Q,S.platform.is.ios===!0?120:35);Gl(()=>{j()});let r=!1;return Jl(()=>{r=!0}),Zl(()=>{if(r!==!0)return;const u=l();T!==void 0&&u!==void 0&&u!==null&&u.nodeType!==8?ol(u,T,a.virtualScrollHorizontal,S.lang.rtl):ae(f)}),ut(()=>{re.cancel()}),Object.assign(y,{scrollTo:ae,reset:ce,refresh:ge}),{virtualScrollSliceRange:z,virtualScrollSliceSizeComputed:k,setVirtualScrollSize:j,onVirtualScrollEvt:re,localResetVirtualScroll:ie,padVirtualScroll:fe,scrollTo:ae,reset:ce,refresh:ge}}function nl(e,l,o){if(o<=l)return l;const n=o-l+1;let d=l+(e-l)%n;return d<l&&(d=n+d),d===0?0:d}const al=e=>["add","add-unique","toggle"].includes(e),en=".*+?^${}()|[]\\",tn=Object.keys(Tt);var Et=Ke({name:"QSelect",inheritAttrs:!1,props:{...Jo,...co,...Tt,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:al},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...cl,"add","remove","inputValue","newValue","keyup","keypress","keydown","filterAbort"],setup(e,{slots:l,emit:o}){const{proxy:n}=it(),{$q:d}=n,a=I(!1),c=I(!1),y=I(-1),S=I(""),T=I(!1),f=I(!1);let V=null,F,m,O,R=null,k,K,D,J;const z=I(null),P=I(null),Z=I(null),te=I(null),ce=I(null),ge=fo(e),ae=vo(Rt),Q=p(()=>Array.isArray(e.options)?e.options.length:0),de=p(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:Se,virtualScrollSliceSizeComputed:ye,localResetVirtualScroll:ie,padVirtualScroll:j,onVirtualScrollEvt:fe,scrollTo:ue,setVirtualScrollSize:re}=Zo({virtualScrollLength:Q,getVirtualScrollTarget:kl,getVirtualScrollEl:Pt,virtualScrollItemSizeComputed:de}),r=fl(),u=p(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,s=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const i=e.mapOptions===!0&&F!==void 0?F:[],w=s.map(M=>Vl(M,i));return e.modelValue===null&&t===!0?w.filter(M=>M!==null):w}return s}),h=p(()=>{const t={};return tn.forEach(s=>{const i=e[s];i!==void 0&&(t[s]=i)}),t}),b=p(()=>e.optionsDark===null?r.isDark.value:e.optionsDark),L=p(()=>jt(u.value)),g=p(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||u.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),v=p(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),C=p(()=>Q.value===0),$=p(()=>u.value.map(t=>X.value(t)).join(", ")),E=p(()=>e.displayValue!==void 0?e.displayValue:$.value),W=p(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),Ve=p(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||u.value.some(W.value))),Pe=p(()=>r.focused.value===!0?e.tabindex:-1),le=p(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":a.value===!0?"true":"false","aria-controls":`${r.targetUid.value}_lb`};return y.value>=0&&(t["aria-activedescendant"]=`${r.targetUid.value}_${y.value}`),t}),je=p(()=>({id:`${r.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),pe=p(()=>u.value.map((t,s)=>({index:s,opt:t,html:W.value(t),selected:!0,removeAtIndex:_l,toggleOption:be,tabindex:Pe.value}))),ke=p(()=>{if(Q.value===0)return[];const{from:t,to:s}=Se.value;return e.options.slice(t,s).map((i,w)=>{const M=qe.value(i)===!0,x=t+w,H={clickable:!0,active:!1,activeClass:rt.value,manualFocus:!0,focused:!1,disable:M,tabindex:-1,dense:e.optionsDense,dark:b.value,role:"option",id:`${r.targetUid.value}_${x}`,onClick:()=>{be(i)}};return M!==!0&&(dt(i)===!0&&(H.active=!0),y.value===x&&(H.focused=!0),H["aria-selected"]=H.active===!0?"true":"false",d.platform.is.desktop===!0&&(H.onMousemove=()=>{a.value===!0&&Te(x)})),{index:x,opt:i,html:W.value(i),label:X.value(i),selected:H.active,focused:H.focused,toggleOption:be,setOptionIndex:Te,itemProps:H}})}),We=p(()=>e.dropdownIcon!==void 0?e.dropdownIcon:d.iconSet.arrow.dropdown),Oe=p(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),rt=p(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),Y=p(()=>ct(e.optionValue,"value")),X=p(()=>ct(e.optionLabel,"label")),qe=p(()=>ct(e.optionDisable,"disable")),Ye=p(()=>u.value.map(t=>Y.value(t))),El=p(()=>{const t={onInput:Rt,onChange:ae,onKeydown:zt,onKeyup:Bt,onKeypress:Nt,onFocus:Lt,onClick(s){m===!0&&Le(s)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=ae,t});se(u,t=>{F=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&r.innerLoading.value!==!0&&(c.value!==!0&&a.value!==!0||L.value!==!0)&&(O!==!0&&Fe(),(c.value===!0||a.value===!0)&&xe(""))},{immediate:!0}),se(()=>e.fillInput,Fe),se(a,ft),se(Q,Pl);function It(t){return e.emitValue===!0?Y.value(t):t}function st(t){if(t>-1&&t<u.value.length)if(e.multiple===!0){const s=e.modelValue.slice();o("remove",{index:t,value:s.splice(t,1)[0]}),o("update:modelValue",s)}else o("update:modelValue",null)}function _l(t){st(t),r.focus()}function Ft(t,s){const i=It(t);if(e.multiple!==!0){e.fillInput===!0&&Re(X.value(t),!0,!0),o("update:modelValue",i);return}if(u.value.length===0){o("add",{index:0,value:i}),o("update:modelValue",e.multiple===!0?[i]:i);return}if(s===!0&&dt(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const w=e.modelValue.slice();o("add",{index:w.length,value:i}),w.push(i),o("update:modelValue",w)}function be(t,s){if(r.editable.value!==!0||t===void 0||qe.value(t)===!0)return;const i=Y.value(t);if(e.multiple!==!0){s!==!0&&(Re(e.fillInput===!0?X.value(t):"",!0,!0),we()),P.value!==null&&P.value.focus(),(u.value.length===0||He(Y.value(u.value[0]),i)!==!0)&&o("update:modelValue",e.emitValue===!0?i:t);return}if((m!==!0||T.value===!0)&&r.focus(),Lt(),u.value.length===0){const x=e.emitValue===!0?i:t;o("add",{index:0,value:x}),o("update:modelValue",e.multiple===!0?[x]:x);return}const w=e.modelValue.slice(),M=Ye.value.findIndex(x=>He(x,i));if(M>-1)o("remove",{index:M,value:w.splice(M,1)[0]});else{if(e.maxValues!==void 0&&w.length>=e.maxValues)return;const x=e.emitValue===!0?i:t;o("add",{index:w.length,value:x}),w.push(x)}o("update:modelValue",w)}function Te(t){if(d.platform.is.desktop!==!0)return;const s=t>-1&&t<Q.value?t:-1;y.value!==s&&(y.value=s)}function Xe(t=1,s){if(a.value===!0){let i=y.value;do i=nl(i+t,-1,Q.value-1);while(i!==-1&&i!==y.value&&qe.value(e.options[i])===!0);y.value!==i&&(Te(i),ue(i),s!==!0&&e.useInput===!0&&e.fillInput===!0&&Ge(i>=0?X.value(e.options[i]):k))}}function Vl(t,s){const i=w=>He(Y.value(w),t);return e.options.find(i)||s.find(i)||t}function ct(t,s){const i=t!==void 0?t:s;return typeof i=="function"?i:w=>w!==null&&typeof w=="object"&&i in w?w[i]:w}function dt(t){const s=Y.value(t);return Ye.value.find(i=>He(i,s))!==void 0}function Lt(t){e.useInput===!0&&P.value!==null&&(t===void 0||P.value===t.target&&t.target.value===$.value)&&P.value.select()}function Mt(t){lo(t,27)===!0&&a.value===!0&&(Le(t),we(),Fe()),o("keyup",t)}function Bt(t){const{value:s}=t.target;if(t.keyCode!==void 0){Mt(t);return}if(t.target.value="",V!==null&&(clearTimeout(V),V=null),Fe(),typeof s=="string"&&s.length!==0){const i=s.toLocaleLowerCase(),w=x=>{const H=e.options.find(U=>x.value(U).toLocaleLowerCase()===i);return H===void 0?!1:(u.value.indexOf(H)===-1?be(H):we(),!0)},M=x=>{w(Y)!==!0&&(w(X)===!0||x===!0||xe(s,!0,()=>M(!0)))};M()}else r.clearValue(t)}function Nt(t){o("keypress",t)}function zt(t){if(o("keydown",t),oo(t)===!0)return;const s=S.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),i=t.shiftKey!==!0&&e.multiple!==!0&&(y.value>-1||s===!0);if(t.keyCode===27){ht(t);return}if(t.keyCode===9&&i===!1){Ae();return}if(t.target===void 0||t.target.id!==r.targetUid.value||r.editable.value!==!0)return;if(t.keyCode===40&&r.innerLoading.value!==!0&&a.value===!1){me(t),Ie();return}if(t.keyCode===8&&e.hideSelected!==!0&&S.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?st(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&o("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof S.value!="string"||S.value.length===0)&&(me(t),y.value=-1,Xe(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&ye.value!==void 0&&(me(t),y.value=Math.max(-1,Math.min(Q.value,y.value+(t.keyCode===33?-1:1)*ye.value.view)),Xe(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(me(t),Xe(t.keyCode===38?-1:1,e.multiple));const w=Q.value;if((D===void 0||J<Date.now())&&(D=""),w>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||D.length!==0)){a.value!==!0&&Ie(t);const M=t.key.toLocaleLowerCase(),x=D.length===1&&D[0]===M;J=Date.now()+1500,x===!1&&(me(t),D+=M);const H=new RegExp("^"+D.split("").map(vt=>en.indexOf(vt)>-1?"\\"+vt:vt).join(".*"),"i");let U=y.value;if(x===!0||U<0||H.test(X.value(e.options[U]))!==!0)do U=nl(U+1,-1,w-1);while(U!==y.value&&(qe.value(e.options[U])===!0||H.test(X.value(e.options[U]))!==!0));y.value!==U&&ve(()=>{Te(U),ue(U),U>=0&&e.useInput===!0&&e.fillInput===!0&&Ge(X.value(e.options[U]))});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||D!=="")&&(t.keyCode!==9||i===!1))){if(t.keyCode!==9&&me(t),y.value>-1&&y.value<w){be(e.options[y.value]);return}if(s===!0){const M=(x,H)=>{if(H){if(al(H)!==!0)return}else H=e.newValueMode;if(Re("",e.multiple!==!0,!0),x==null)return;(H==="toggle"?be:Ft)(x,H==="add-unique"),e.multiple!==!0&&(P.value!==null&&P.value.focus(),we())};if(e.onNewValue!==void 0?o("newValue",S.value,M):M(S.value),e.multiple!==!0)return}a.value===!0?Ae():r.innerLoading.value!==!0&&Ie()}}function Pt(){return m===!0?ce.value:Z.value!==null&&Z.value.contentEl!==null?Z.value.contentEl:void 0}function kl(){return Pt()}function ql(){return e.hideSelected===!0?[]:l["selected-item"]!==void 0?pe.value.map(t=>l["selected-item"](t)).slice():l.selected!==void 0?[].concat(l.selected()):e.useChips===!0?pe.value.map((t,s)=>_(hl,{key:"option-"+s,removable:r.editable.value===!0&&qe.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:Pe.value,onRemove(){t.removeAtIndex(s)}},()=>_("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:X.value(t.opt)}))):[_("span",{[Ve.value===!0?"innerHTML":"textContent"]:E.value})]}function Ot(){if(C.value===!0)return l["no-option"]!==void 0?l["no-option"]({inputValue:S.value}):void 0;const t=l.option!==void 0?l.option:i=>_(ne,{key:i.index,...i.itemProps},()=>_(tt,()=>_(_e,()=>_("span",{[i.html===!0?"innerHTML":"textContent"]:i.label}))));let s=j("div",ke.value.map(t));return l["before-options"]!==void 0&&(s=l["before-options"]().concat(s)),no(l["after-options"],s)}function Tl(t,s){const i=s===!0?{...le.value,...r.splitAttrs.attributes.value}:void 0,w={ref:s===!0?P:void 0,key:"i_t",class:g.value,style:e.inputStyle,value:S.value!==void 0?S.value:"",type:"search",...i,id:s===!0?r.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...El.value};return t!==!0&&m===!0&&(Array.isArray(w.class)===!0?w.class=[...w.class,"no-pointer-events"]:w.class+=" no-pointer-events"),_("input",w)}function Rt(t){V!==null&&(clearTimeout(V),V=null),!(t&&t.target&&t.target.qComposing===!0)&&(Ge(t.target.value||""),O=!0,k=S.value,r.focused.value!==!0&&(m!==!0||T.value===!0)&&r.focus(),e.onFilter!==void 0&&(V=setTimeout(()=>{V=null,xe(S.value)},e.inputDebounce)))}function Ge(t){S.value!==t&&(S.value=t,o("inputValue",t))}function Re(t,s,i){O=i!==!0,e.useInput===!0&&(Ge(t),(s===!0||i!==!0)&&(k=t),s!==!0&&xe(t))}function xe(t,s,i){if(e.onFilter===void 0||s!==!0&&r.focused.value!==!0)return;r.innerLoading.value===!0?o("filterAbort"):(r.innerLoading.value=!0,f.value=!0),t!==""&&e.multiple!==!0&&u.value.length!==0&&O!==!0&&t===X.value(u.value[0])&&(t="");const w=setTimeout(()=>{a.value===!0&&(a.value=!1)},10);R!==null&&clearTimeout(R),R=w,o("filter",t,(M,x)=>{(s===!0||r.focused.value===!0)&&R===w&&(clearTimeout(R),typeof M=="function"&&M(),f.value=!1,ve(()=>{r.innerLoading.value=!1,r.editable.value===!0&&(s===!0?a.value===!0&&we():a.value===!0?ft(!0):a.value=!0),typeof x=="function"&&ve(()=>{x(n)}),typeof i=="function"&&ve(()=>{i(n)})}))},()=>{r.focused.value===!0&&R===w&&(clearTimeout(R),r.innerLoading.value=!1,f.value=!1),a.value===!0&&(a.value=!1)})}function xl(){return _(Vo,{ref:Z,class:v.value,style:e.popupContentStyle,modelValue:a.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&C.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:b.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:Oe.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...je.value,onScrollPassive:fe,onBeforeShow:$t,onBeforeHide:Al,onShow:Il},Ot)}function Al(t){Dt(t),Ae()}function Il(){re()}function Fl(t){Le(t),P.value!==null&&P.value.focus(),T.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Ll(t){Le(t),ve(()=>{T.value=!1})}function Ml(){const t=[_(Ho,{class:`col-auto ${r.fieldClass.value}`,...h.value,for:r.targetUid.value,dark:b.value,square:!0,loading:f.value,itemAligned:!1,filled:!0,stackLabel:S.value.length!==0,...r.splitAttrs.listeners.value,onFocus:Fl,onBlur:Ll},{...l,rawControl:()=>r.getControl(!0),before:void 0,after:void 0})];return a.value===!0&&t.push(_("div",{ref:ce,class:v.value+" scroll",style:e.popupContentStyle,...je.value,onClick:ht,onScrollPassive:fe},Ot())),_(Wo,{ref:te,modelValue:c.value,position:e.useInput===!0?"top":void 0,transitionShow:K,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:$t,onBeforeHide:Bl,onHide:Nl,onShow:zl},()=>_("div",{class:"q-select__dialog"+(b.value===!0?" q-select__dialog--dark q-dark":"")+(T.value===!0?" q-select__dialog--focused":"")},t))}function Bl(t){Dt(t),te.value!==null&&te.value.__updateRefocusTarget(r.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),r.focused.value=!1}function Nl(t){we(),r.focused.value===!1&&o("blur",t),Fe()}function zl(){const t=document.activeElement;(t===null||t.id!==r.targetUid.value)&&P.value!==null&&P.value!==t&&P.value.focus(),re()}function Ae(){c.value!==!0&&(y.value=-1,a.value===!0&&(a.value=!1),r.focused.value===!1&&(R!==null&&(clearTimeout(R),R=null),r.innerLoading.value===!0&&(o("filterAbort"),r.innerLoading.value=!1,f.value=!1)))}function Ie(t){r.editable.value===!0&&(m===!0?(r.onControlFocusin(t),c.value=!0,ve(()=>{r.focus()})):r.focus(),e.onFilter!==void 0?xe(S.value):(C.value!==!0||l["no-option"]!==void 0)&&(a.value=!0))}function we(){c.value=!1,Ae()}function Fe(){e.useInput===!0&&Re(e.multiple!==!0&&e.fillInput===!0&&u.value.length!==0&&X.value(u.value[0])||"",!0,!0)}function ft(t){let s=-1;if(t===!0){if(u.value.length!==0){const i=Y.value(u.value[0]);s=e.options.findIndex(w=>He(Y.value(w),i))}ie(s)}Te(s)}function Pl(t,s){a.value===!0&&r.innerLoading.value===!1&&(ie(-1,!0),ve(()=>{a.value===!0&&r.innerLoading.value===!1&&(t>s?ie():ft(!0))}))}function Ht(){c.value===!1&&Z.value!==null&&Z.value.updatePosition()}function $t(t){t!==void 0&&Le(t),o("popupShow",t),r.hasPopupOpen=!0,r.onControlFocusin(t)}function Dt(t){t!==void 0&&Le(t),o("popupHide",t),r.hasPopupOpen=!1,r.onControlFocusout(t)}function Qt(){m=d.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?l["no-option"]!==void 0||e.onFilter!==void 0||C.value===!1:!0),K=d.platform.is.ios===!0&&m===!0&&e.useInput===!0?"fade":e.transitionShow}return eo(Qt),to(Ht),Qt(),ut(()=>{V!==null&&clearTimeout(V)}),Object.assign(n,{showPopup:Ie,hidePopup:we,removeAtIndex:st,add:Ft,toggleOption:be,getOptionIndex:()=>y.value,setOptionIndex:Te,moveOptionSelection:Xe,filter:xe,updateMenuPosition:Ht,updateInputValue:Re,isOptionSelected:dt,getEmittingOptionValue:It,isOptionDisabled:(...t)=>qe.value.apply(null,t)===!0,getOptionValue:(...t)=>Y.value.apply(null,t),getOptionLabel:(...t)=>X.value.apply(null,t)}),Object.assign(r,{innerValue:u,fieldClass:p(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:z,targetRef:P,hasValue:L,showPopup:Ie,floatingLabel:p(()=>e.hideSelected!==!0&&L.value===!0||typeof S.value=="number"||S.value.length!==0||jt(e.displayValue)),getControlChild:()=>{if(r.editable.value!==!1&&(c.value===!0||C.value!==!0||l["no-option"]!==void 0))return m===!0?Ml():xl();r.hasPopupOpen===!0&&(r.hasPopupOpen=!1)},controlEvents:{onFocusin(t){r.onControlFocusin(t)},onFocusout(t){r.onControlFocusout(t,()=>{Fe(),Ae()})},onClick(t){if(ht(t),m!==!0&&a.value===!0){Ae(),P.value!==null&&P.value.focus();return}Ie(t)}},getControl:t=>{const s=ql(),i=t===!0||c.value!==!0||m!==!0;if(e.useInput===!0)s.push(Tl(t,i));else if(r.editable.value===!0){const M=i===!0?le.value:void 0;s.push(_("input",{ref:i===!0?P:void 0,key:"d_t",class:"q-select__focus-target",id:i===!0?r.targetUid.value:void 0,value:E.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...M,onKeydown:zt,onKeyup:Mt,onKeypress:Nt})),i===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&s.push(_("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:Bt}))}if(ge.value!==void 0&&e.disable!==!0&&Ye.value.length!==0){const M=Ye.value.map(x=>_("option",{value:x,selected:!0}));s.push(_("select",{class:"hidden",name:ge.value,multiple:e.multiple},M))}const w=e.useInput===!0||i!==!0?void 0:r.splitAttrs.attributes.value;return _("div",{class:"q-field__native row items-center",...w,...r.splitAttrs.listeners.value},s)},getInnerAppend:()=>e.loading!==!0&&f.value!==!0&&e.hideDropdownIcon!==!0?[_(Ue,{class:"q-select__dropdown-icon"+(a.value===!0?" rotate-180":""),name:We.value})]:null}),dl(r)}});const Be=50,il=2023,ul=7,ln=1950,on=new Date().getFullYear()>=il?new Date().getFullYear()-ul:il-ul,nn=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],At={label:"Not Given",value:null};function*Sl(e,l){e>l&&([e,l]=[l,e]);const o=l.toString().length;for(let n=e;n<=l;n++)yield{label:n.toString().padStart(o,"0"),value:n}}function*an(){for(let o=1;o<=12;o++)yield{label:nn[o-1],value:o}}const yl=Array.from(Sl(1,31));yl.unshift(At);const pl=Array.from(an());pl.unshift(At);const bl=Array.from(Sl(ln,on));bl.unshift(At);class _t{static isFirstNameValid(l){return l.length<=Be}static isLastNameValid(l){return l.length<=Be}static isBirthdayFilled(l){const o=l.day,n=l.month,d=l.year;return!((o===null||n===null||d===null)&&!(o===n&&n===d))}}const wl=xt();function Cl(){return un(()=>{const e=wl.data;return e?e.getCredentialClone():null})}function un(e){let l;return new Mo((o,n,d)=>{wl.isSynchronized.value&&o(null),l=()=>{o(null)},St.on(yt.FULLFILLED,l),d(()=>{St.off(yt.FULLFILLED,l)})}).then(()=>{St.off(yt.FULLFILLED,l)}).then(e)}const rn=nt({name:"ProfileCredentialsEdit",props:{emitter:{type:Object,default:null}},async setup(e){const l=xt(),o=I(Xt.getEmpty()),n=I(""),d=Cl();d.then(m=>{var O;m&&(n.value=(O=l.$state.data)==null?void 0:O.id,o.value=new Xt(m))});const a=I(!1),c=I(!1),y=I(!1),S=_t.isFirstNameValid,T=_t.isLastNameValid,f=_t.isBirthdayFilled,V=()=>{const m=o.value.birthday;return f(m)?m.day===null||!!o.value.getBirthdayDate():!1};return{storePromise:d,profileId:n,data:o,isShowFirstNameError:a,isShowLastNameError:c,isShowBirthdayError:y,days:yl,months:pl,birth_years:bl,validate:()=>{a.value=!1,c.value=!1,y.value=!1;let m=!0;return a.value=!S(o.value.firstName),m&&(m=!a.value),c.value=!T(o.value.lastName),m&&(m=!c.value),y.value=!V(),m&&(m=!y.value),m},validateFirstName:S,validateLastName:T,validateBirthday:V}},data(){return{SELECT_DATE_ATTRS:{"menu-anchor":"bottom left","menu-self":"top left",standout:"bg-grey text-white text-lg","stack-label":!0,"fill-input":!0,clearable:!0,"emit-value":!0,"map-options":!0,"hide-bottom-space":!0,color:"primary",class:"non-selectable ellipsis",style:"width: 100%;","popup-content-style":"height:16em; max-height:100vh;","popup-content-class":"text-bold non-selectable"},INPUT_ATTRS:{standout:"bg-grey text-white text-lg","stack-label":!0,"hide-bottom-space":!0,class:"text-h6",style:"width: 100%"}}},methods:{handleCancel(){this.exitEditMode()},exitEditMode(){var e;(e=this.emitter)==null||e.emit("ExitEdit","")},submitForm(e){if(e.preventDefault(),!this.profileId){console.error("unknown profileId");return}if(!this.validate())return;const o=this.data.getCredentialEntity();Fo.updateCredential(this.profileId,o).then(n=>{n&&this.exitEditMode()})}},computed:{firstNameErrorMessage(){return this.isShowFirstNameError&&this.data.firstName.length>Be?`Input length must be less ${Be}`:""},lastNameErrorMessage(){return this.isShowLastNameError&&this.data.lastName.length>Be?`Input length must be less ${Be}`:""},birthdayErrorMessage(){return this.isShowBirthdayError?"Invalid date":""}},mounted(){se(this.data,()=>{this.isShowFirstNameError=!1,this.isShowLastNameError=!1,this.isShowBirthdayError=!1})},beforeUnmount(){this.storePromise.cancel()}}),sn=e=>(ao("data-v-75d17a67"),e=e(),io(),e),cn=sn(()=>lt("div",{class:"text row items-end q-pr-sm"},"Birthday",-1));function dn(e,l,o,n,d,a){return B(),N(ho,{onSubmit:e.submitForm},{default:q(()=>[A(qt,null,{default:q(()=>[A(ml,{class:"fit row wrap items-center"},{default:q(()=>[A(ne,{class:"col-12 col-md-6 q-pa-none q-pr-sm q-pt-sm",inline:""},{default:q(()=>[e.data?(B(),N(Wt,oe({key:0},e.INPUT_ATTRS,{label:"Given Name",modelValue:e.data.firstName,"onUpdate:modelValue":l[0]||(l[0]=c=>e.data.firstName=c),error:e.isShowFirstNameError}),{error:q(()=>[G(Ne(e.firstNameErrorMessage),1)]),_:1},16,["modelValue","error"])):(B(),N(he,oe({key:1},e.INPUT_ATTRS,{type:"QInput",class:""}),null,16))]),_:1}),A(ne,{class:"col-12 col-md-6 q-pa-none q-pr-sm q-pt-sm",inline:""},{default:q(()=>[e.data?(B(),N(Wt,oe({key:0},e.INPUT_ATTRS,{label:"Family Name",modelValue:e.data.lastName,"onUpdate:modelValue":l[1]||(l[1]=c=>e.data.lastName=c),error:e.isShowLastNameError}),{error:q(()=>[G(Ne(e.lastNameErrorMessage),1)]),_:1},16,["modelValue","error"])):(B(),N(he,oe({key:1},e.INPUT_ATTRS,{type:"QInput",class:""}),null,16))]),_:1}),A(ne,{class:"col-12 q-pa-none items-end"},{default:q(()=>[cn,e.isShowBirthdayError?(B(),N(hl,{key:0,dense:"",square:"",color:"red",class:"q-px-sm q-py-none q-ma-none text-bold text-uppercase ellipsis non-selectable items-end",ripple:!1},{default:q(()=>[G(Ne(e.birthdayErrorMessage),1)]),_:1})):et("",!0)]),_:1}),A(ne,{class:"col-12 col-md-4 q-pa-none q-pr-sm q-pt-sm"},{default:q(()=>[e.data?(B(),N(Et,oe({key:0},e.SELECT_DATE_ATTRS,{label:"Year",options:e.birth_years,modelValue:e.data.birthday.year,"onUpdate:modelValue":l[2]||(l[2]=c=>e.data.birthday.year=c)}),null,16,["options","modelValue"])):(B(),N(he,oe({key:1},e.SELECT_DATE_ATTRS,{type:"QInput"}),null,16))]),_:1}),A(ne,{class:"col-12 col-md-4 q-pa-none q-pr-sm q-pt-sm"},{default:q(()=>[e.data?(B(),N(Et,oe({key:0},e.SELECT_DATE_ATTRS,{label:"Month",options:e.months,modelValue:e.data.birthday.month,"onUpdate:modelValue":l[3]||(l[3]=c=>e.data.birthday.month=c)}),null,16,["options","modelValue"])):(B(),N(he,oe({key:1},e.SELECT_DATE_ATTRS,{type:"QInput"}),null,16))]),_:1}),A(ne,{class:"col-12 col-md-4 q-pa-none q-pr-sm q-pt-sm"},{default:q(()=>[e.data?(B(),N(Et,oe({key:0},e.SELECT_DATE_ATTRS,{label:"Day",options:e.days,modelValue:e.data.birthday.day,"onUpdate:modelValue":l[4]||(l[4]=c=>e.data.birthday.day=c)}),null,16,["options","modelValue"])):(B(),N(he,oe({key:1},e.SELECT_DATE_ATTRS,{type:"QInput"}),null,16))]),_:1})]),_:1})]),_:1}),A(sl,{class:"q-mt-md"}),A(mo,{align:"right"},{default:q(()=>[A(Vt,{type:"submit"},{default:q(()=>[G("Save")]),_:1}),A(Vt,{onClick:e.handleCancel},{default:q(()=>[G("Cancel")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["onSubmit"])}var fn=at(rn,[["render",dn],["__scopeId","data-v-75d17a67"]]);function vn(e){const l=document.createElement("textarea");l.value=e,l.contentEditable="true",l.style.position="fixed";const o=()=>{};vl(o),document.body.appendChild(l),l.focus(),l.select();const n=document.execCommand("copy");return l.remove(),kt(o),n}function mn(e){return navigator.clipboard!==void 0?navigator.clipboard.writeText(e):new Promise((l,o)=>{const n=vn(e);n?l(!0):o(n)})}async function hn(e){mn(e).then(()=>{uo.create({timeout:50,message:"Copied to clipboard!",type:"info"})})}const gn=nt({name:"ProfileCredentialsView",setup(){const e=I(null),l=Cl();return l.then(o=>{o&&(e.value=new Lo(o))}),{storePromise:l,data:e}},methods:{copyToClipboard(e){hn(e)}},computed:{getFirstName(){var e,l;return(l=(e=this.data)==null?void 0:e.getFirstName())!=null?l:""},getLastName(){var e,l;return(l=(e=this.data)==null?void 0:e.getLastName())!=null?l:""},getFullDate(){var e,l;return(l=(e=this.data)==null?void 0:e.getBirthdayString())!=null?l:""}},beforeUnmount(){this.storePromise.cancel()}});function Sn(e,l,o,n,d,a){return B(),N(qt,{class:"q-pa-none"},{default:q(()=>[A(ml,{class:"fit row wrap items-center"},{default:q(()=>[A(ne,{class:"col-12 col-sm-6 q-pa-none q-pt-sm non-selectable",inline:"",clickable:"",style:{"border-radius":"5px"},onClick:l[0]||(l[0]=c=>e.copyToClipboard(e.getFirstName))},{default:q(()=>[A(tt,null,{default:q(()=>[A(_e,{overline:""},{default:q(()=>[G("Given Name")]),_:1}),e.data?(B(),N(_e,{key:0,class:"text-h5 ellipsis"},{default:q(()=>[G(Ne(e.getFirstName),1)]),_:1})):(B(),N(he,{key:1,type:"text",class:"text-h5 ellipsis"}))]),_:1})]),_:1}),A(ne,{class:"col-12 col-sm-6 q-pa-none q-pt-sm non-selectable",inline:"",clickable:"",style:{"border-radius":"5px"},onClick:l[1]||(l[1]=c=>e.copyToClipboard(e.getLastName))},{default:q(()=>[A(tt,null,{default:q(()=>[A(_e,{overline:""},{default:q(()=>[G("Family Name")]),_:1}),e.data?(B(),N(_e,{key:0,class:"text-h5 ellipsis"},{default:q(()=>[G(Ne(e.getLastName),1)]),_:1})):(B(),N(he,{key:1,type:"text",class:"text-h5 ellipsis"}))]),_:1})]),_:1}),A(ne,{class:"col-12 q-pa-none q-pt-sm non-selectable",inline:"",clickable:"",style:{"border-radius":"5px"},onClick:l[2]||(l[2]=c=>e.copyToClipboard(e.getFullDate))},{default:q(()=>[A(tt,null,{default:q(()=>[A(_e,{overline:""},{default:q(()=>[G("Birthday")]),_:1}),e.data?(B(),N(_e,{key:0,class:"text-h5 ellipsis"},{default:q(()=>[G(Ne(e.getFullDate),1)]),_:1})):(B(),N(he,{key:1,type:"text",class:"text-h5 ellipsis"}))]),_:1})]),_:1})]),_:1})]),_:1})}var yn=at(gn,[["render",Sn],["__scopeId","data-v-3ddfcce7"]]);const pn=nt({components:{AccountProfileCard:Oo,ProfileCredentialsEdit:fn,ProfileCredentialsView:yn},name:"AccountPage",setup(){xt().synchronizeDefault()},methods:{}}),bn={class:"col-12 col-sm-6 q-pa-sm"};function wn(e,l,o,n,d,a){const c=gt("profile-credentials-view"),y=gt("profile-credentials-edit"),S=gt("account-profile-card");return B(),N(Ol,{class:"q-px-md q-pb-md row wrap items-start content-start"},{default:q(()=>[lt("div",bn,[A(S,null,{header:q(()=>[G("Profile credentials")]),"content-view":q(()=>[A(c)]),"content-edit":q(T=>[A(y,{emitter:T.emitter},null,8,["emitter"])]),_:1})])]),_:1})}var Mn=at(pn,[["render",wn]]);export{Mn as default};
