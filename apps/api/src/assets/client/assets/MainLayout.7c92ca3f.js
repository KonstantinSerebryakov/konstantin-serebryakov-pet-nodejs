import{l as k,c as f,h as b,m as x,i as N,n as y,r as q,w as _,p as R,q as P,s as U,g as D,t as B,u as E,E as F,_ as V,v as T,x as z,y as l,d as a,Q as g,z as p,A as S,B as G,C as j,D as K}from"./index.a468aedf.js";import{Q as d,a as C,b as W,c as J}from"./QList.beb13a84.js";import{Q as X,a as Y,b as Z}from"./QLayout.2a67df5c.js";import{u as L}from"./user-store.825968a2.js";import"./focus-manager.dc98bfd3.js";import"./scroll.112b567a.js";import"./axios.b55e1699.js";var ee=k({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:o}){const n=f(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>b("div",{class:n.value},x(o.default))}}),te=k({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:o}){const n=f(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>b("div",{class:n.value,role:"toolbar"},x(o.default))}}),ae=k({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:o,emit:n}){const{proxy:{$q:i}}=D(),s=N(U,y);if(s===y)return console.error("QHeader needs to be child of QLayout"),y;const h=q(parseInt(e.heightHint,10)),r=q(!0),m=f(()=>e.reveal===!0||s.view.value.indexOf("H")>-1||i.platform.is.ios&&s.isContainer.value===!0),Q=f(()=>{if(e.modelValue!==!0)return 0;if(m.value===!0)return r.value===!0?h.value:0;const t=h.value-s.scroll.value.position;return t>0?t:0}),w=f(()=>e.modelValue!==!0||m.value===!0&&r.value!==!0),O=f(()=>e.modelValue===!0&&w.value===!0&&e.reveal===!0),A=f(()=>"q-header q-layout__section--marginal "+(m.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(w.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),H=f(()=>{const t=s.rows.value.top,c={};return t[0]==="l"&&s.left.space===!0&&(c[i.lang.rtl===!0?"right":"left"]=`${s.left.size}px`),t[2]==="r"&&s.right.space===!0&&(c[i.lang.rtl===!0?"left":"right"]=`${s.right.size}px`),c});function u(t,c){s.update("header",t,c)}function v(t,c){t.value!==c&&(t.value=c)}function I({height:t}){v(h,t),u("size",t)}function M(t){O.value===!0&&v(r,!0),n("focusin",t)}_(()=>e.modelValue,t=>{u("space",t),v(r,!0),s.animate()}),_(Q,t=>{u("offset",t)}),_(()=>e.reveal,t=>{t===!1&&v(r,e.modelValue)}),_(r,t=>{s.animate(),n("reveal",t)}),_(s.scroll,t=>{e.reveal===!0&&v(r,t.direction==="up"||t.position<=e.revealOffset||t.position-t.inflectionPoint<100)});const $={};return s.instances.header=$,e.modelValue===!0&&u("size",h.value),u("space",e.modelValue),u("offset",Q.value),R(()=>{s.instances.header===$&&(s.instances.header=void 0,u("size",0),u("offset",0),u("space",!1))}),()=>{const t=P(o.default,[]);return e.elevated===!0&&t.push(b("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),t.push(b(X,{debounce:0,onResize:I})),b("header",{class:A.value,style:H.value,onFocusin:M},t)}}});const le=B({name:"QListProfileMenu",setup(){return{}},methods:{handleDashboardClick(){this.$router.push("/")},handleSettingsClick(){this.$router.push("/account")},handleAboutClick(){this.$router.push("/about")},handleLogoutClick(){E.emit(F.LOGOUT_SUCCESS),this.$router.push("/signin")}}});function se(e,o,n,i,s,h){return T(),z(W,{class:"non-selectable min-width-240"},{default:l(()=>[a(C,{clickable:"",onClick:e.handleDashboardClick},{default:l(()=>[a(d,{avatar:"",dense:"",class:"disable-min-width"},{default:l(()=>[a(g,{name:"dashboard"})]),_:1}),a(d,null,{default:l(()=>[p("My Documents")]),_:1})]),_:1},8,["onClick"]),a(C,{clickable:"",onClick:e.handleSettingsClick},{default:l(()=>[a(d,{avatar:"",dense:"",class:"disable-min-width"},{default:l(()=>[a(g,{name:"settings"})]),_:1}),a(d,null,{default:l(()=>[p("Account settings")]),_:1})]),_:1},8,["onClick"]),a(C,{clickable:"",onClick:e.handleAboutClick},{default:l(()=>[a(d,{avatar:"",dense:"",class:"disable-min-width"},{default:l(()=>[a(g,{name:"info"})]),_:1}),a(d,null,{default:l(()=>[p("About")]),_:1})]),_:1},8,["onClick"]),a(C,{clickable:"",onClick:e.handleLogoutClick},{default:l(()=>[a(d,{avatar:"",dense:"",class:"disable-min-width"},{default:l(()=>[a(g,{name:"logout"})]),_:1}),a(d,null,{default:l(()=>[p("LogOut")]),_:1})]),_:1},8,["onClick"])]),_:1})}var oe=V(le,[["render",se],["__scopeId","data-v-77cfdd52"]]);const ne=B({components:{QMenuProfile:oe},name:"MainLayout",setup(){var i;const e=L(),o=(i=e.$state.user)==null?void 0:i.email,n=e.$state.user;return{userStore:e,emailRef:o,userRef:n}},computed:{isHomeRoute(){return this.$route.path==="/"},email(){return this.emailRef?this.emailRef:"Not Given"}},mounted(){var o;this.userStore.synchronizeWithSessionStorage(),(o=L().$state.user)==null||o.email}}),re=K("img",{src:"https://cdn.quasar.dev/logo-v2/svg/logo-mono-white.svg"},null,-1);function ue(e,o,n,i,s,h){const r=S("q-menu-profile"),m=S("router-view");return T(),z(Y,{view:"lHh Lpr lFf"},{default:l(()=>[a(ae,{elevated:"",class:"bg-primary text-white","height-hint":"98"},{default:l(()=>[a(te,null,{default:l(()=>[a(ee,null,{default:l(()=>[a(G,null,{default:l(()=>[re]),_:1}),p(" Title ")]),_:1}),a(j,{icon:"account_circle",label:e.email,flat:"",class:"text-lowercase"},{default:l(()=>[a(J,{fit:"",anchor:"bottom right",self:"top right"},{default:l(()=>[a(r)]),_:1})]),_:1},8,["label"])]),_:1})]),_:1}),a(Z,null,{default:l(()=>[a(m,{style:{"max-width":"1024px"},class:"q-mx-auto q-my-none"})]),_:1})]),_:1})}var _e=V(ne,[["render",ue]]);export{_e as default};
