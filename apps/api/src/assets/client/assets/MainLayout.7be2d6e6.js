import{q as V,c as f,h as g,s as B,i as A,t as L,r as $,w as p,u as M,v as D,x as R,g as j,l as T,y as G,E as K,_ as U,m as S,z as q,A as o,d as a,Q as C,B as b,C as E,D as W,G as J,H as X,I as Y}from"./index.3e935c67.js";import{Q as d,a as y,b as Z,c as ee,d as te}from"./QList.a634341b.js";import{Q as ae}from"./QResizeObserver.db5737f9.js";import{Q as oe,a as ne}from"./QLayout.32bc55be.js";import{u as I,a as Q,U as w,b as le}from"./user-store.6c823f76.js";import{C as se}from"./CancelablePromise.f264a6fa.js";import"./focus-manager.bc8f5bcf.js";import"./scroll.7f4e30db.js";import"./axios.ae2e2349.js";import"./store-state.enum.0423141e.js";var re=V({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:l}){const s=f(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>g("div",{class:s.value},B(l.default))}}),ue=V({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:l}){const s=f(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>g("div",{class:s.value,role:"toolbar"},B(l.default))}}),ie=V({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:l,emit:s}){const{proxy:{$q:i}}=j(),n=A(R,L);if(n===L)return console.error("QHeader needs to be child of QLayout"),L;const m=$(parseInt(e.heightHint,10)),r=$(!0),h=f(()=>e.reveal===!0||n.view.value.indexOf("H")>-1||i.platform.is.ios&&n.isContainer.value===!0),v=f(()=>{if(e.modelValue!==!0)return 0;if(h.value===!0)return r.value===!0?m.value:0;const t=m.value-n.scroll.value.position;return t>0?t:0}),k=f(()=>e.modelValue!==!0||h.value===!0&&r.value!==!0),z=f(()=>e.modelValue===!0&&k.value===!0&&e.reveal===!0),F=f(()=>"q-header q-layout__section--marginal "+(h.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(k.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),O=f(()=>{const t=n.rows.value.top,c={};return t[0]==="l"&&n.left.space===!0&&(c[i.lang.rtl===!0?"right":"left"]=`${n.left.size}px`),t[2]==="r"&&n.right.space===!0&&(c[i.lang.rtl===!0?"left":"right"]=`${n.right.size}px`),c});function u(t,c){n.update("header",t,c)}function _(t,c){t.value!==c&&(t.value=c)}function H({height:t}){_(m,t),u("size",t)}function N(t){z.value===!0&&_(r,!0),s("focusin",t)}p(()=>e.modelValue,t=>{u("space",t),_(r,!0),n.animate()}),p(v,t=>{u("offset",t)}),p(()=>e.reveal,t=>{t===!1&&_(r,e.modelValue)}),p(r,t=>{n.animate(),s("reveal",t)}),p(n.scroll,t=>{e.reveal===!0&&_(r,t.direction==="up"||t.position<=e.revealOffset||t.position-t.inflectionPoint<100)});const x={};return n.instances.header=x,e.modelValue===!0&&u("size",m.value),u("space",e.modelValue),u("offset",v.value),M(()=>{n.instances.header===x&&(n.instances.header=void 0,u("size",0),u("offset",0),u("space",!1))}),()=>{const t=D(l.default,[]);return e.elevated===!0&&t.push(g("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),t.push(g(ae,{debounce:0,onResize:H})),g("header",{class:F.value,style:O.value,onFocusin:N},t)}}});const ce=T({name:"QListProfileMenu",setup(){return{}},methods:{handleDashboardClick(){this.$router.push("/")},handleSettingsClick(){this.$router.push("/account")},handleAboutClick(){this.$router.push("/about")},handleLogoutClick(){G.emit(K.LOGOUT_SUCCESS),this.$router.push("/signin")}}});function de(e,l,s,i,n,m){return S(),q(Z,{class:"non-selectable min-width-240"},{default:o(()=>[a(y,{clickable:"",onClick:e.handleDashboardClick},{default:o(()=>[a(d,{avatar:"",dense:"",class:"disable-min-width"},{default:o(()=>[a(C,{name:"dashboard"})]),_:1}),a(d,null,{default:o(()=>[b("My Documents")]),_:1})]),_:1},8,["onClick"]),a(y,{clickable:"",onClick:e.handleSettingsClick},{default:o(()=>[a(d,{avatar:"",dense:"",class:"disable-min-width"},{default:o(()=>[a(C,{name:"settings"})]),_:1}),a(d,null,{default:o(()=>[b("Account settings")]),_:1})]),_:1},8,["onClick"]),a(y,{clickable:"",onClick:e.handleAboutClick},{default:o(()=>[a(d,{avatar:"",dense:"",class:"disable-min-width"},{default:o(()=>[a(C,{name:"info"})]),_:1}),a(d,null,{default:o(()=>[b("About")]),_:1})]),_:1},8,["onClick"]),a(y,{clickable:"",onClick:e.handleLogoutClick},{default:o(()=>[a(d,{avatar:"",dense:"",class:"disable-min-width"},{default:o(()=>[a(C,{name:"logout"})]),_:1}),a(d,null,{default:o(()=>[b("LogOut")]),_:1})]),_:1},8,["onClick"])]),_:1})}var fe=U(ce,[["render",de],["__scopeId","data-v-77cfdd52"]]);const P=I();function me(){return he(()=>{const e=P.$state.data;return e?new le(e):null})}function he(e){let l;return new se((s,i,n)=>{P.isSynchronized.value&&s(null),l=()=>{s(null)},Q.on(w.FULLFILLED,l),n(()=>{Q.off(w.FULLFILLED,l)})}).then(()=>{Q.off(w.FULLFILLED,l)}).then(e)}const ve=T({components:{QMenuProfile:fe},name:"MainLayout",setup(){I().synchronizeWithLocalStorage();const l=$(null),s=me();return s.then(i=>{l.value=i}),{storePromise:s,data:l}},computed:{isHomeRoute(){return this.$route.path==="/"}},beforeUnmount(){this.storePromise.cancel()}}),_e=Y("img",{src:"https://cdn.quasar.dev/logo-v2/svg/logo-mono-white.svg"},null,-1);function pe(e,l,s,i,n,m){const r=E("q-menu-profile"),h=E("router-view");return S(),q(oe,{view:"lHh Lpr lFf"},{default:o(()=>[a(ie,{elevated:"",class:"bg-primary text-white","height-hint":"98"},{default:o(()=>[a(ue,null,{default:o(()=>{var v;return[a(re,{clickable:"",onClick:l[0]||(l[0]=k=>console.log(e.data))},{default:o(()=>[a(W,null,{default:o(()=>[_e]),_:1}),b(" Title ")]),_:1}),a(J,{icon:"account_circle",label:(v=e.data)==null?void 0:v.email,flat:"",class:"text-lowercase"},{default:o(()=>[e.data?X("",!0):(S(),q(ee,{key:0,type:"text",width:"100px"})),a(te,{fit:"",anchor:"bottom right",self:"top right"},{default:o(()=>[a(r)]),_:1})]),_:1},8,["label"])]}),_:1})]),_:1}),a(ne,null,{default:o(()=>[a(h,{style:{"max-width":"1024px"},class:"q-mx-auto q-my-none"})]),_:1})]),_:1})}var qe=U(ve,[["render",pe]]);export{qe as default};
