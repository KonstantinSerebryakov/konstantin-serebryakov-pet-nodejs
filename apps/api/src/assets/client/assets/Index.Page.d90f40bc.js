import{Q as B}from"./QPage.c2db014c.js";import{Q as y,u as S,a as N}from"./QImg.35577764.js";import{l as g,r as _,_ as v,m as a,z as C,A as s,d as t,G as k,I as c,af as P,B as b,q as I,h as m,s as x,C as $,p as f,F as D,ag as E}from"./index.3e935c67.js";import{Q as R}from"./QSpace.a128dd84.js";import{d as F,b as V,a as L,Q as w,c as z}from"./QList.a634341b.js";import{Q as A,a as Q}from"./QCard.c1963adf.js";import{P as G,a as h}from"./profile-store-api.042537c7.js";import"./focus-manager.bc8f5bcf.js";import"./scroll.7f4e30db.js";import"./axios.ae2e2349.js";import"./store-state.enum.0423141e.js";const M=g({name:"QCardDocumentButtonLarge",props:{data:{type:G,required:!0}},setup(e){var i,d,u,p;const o=e.data,l=_("https://loremflickr.com/500/500"),r=_(""),n=_("");return r.value=(d=(i=o.essentialInfo)==null?void 0:i.position)!=null?d:"New Document",n.value=(p=(u=o.credential)==null?void 0:u.getFullNameOrEmpty())!=null?p:"",{img:l,name:r,subName:n}},methods:{handleNavigate(){this.$router.push(`/document/${this.data.id}`)},handleDuplicate(){},handleDelete(){h.deleteProfile(this.data.id).then(e=>{e&&this.$emit("profile-deleted",this.data.id)})}}}),O={class:"col items-center no-wrap ellipsis"},T={class:"text-h6 ellipsis"},j={class:"text-subtitle2 ellipsis"};function H(e,o,l,r,n,i){return a(),C(Q,{bordered:"",class:"q-pa-sm col-sm-3 row"},{default:s(()=>[t(k,{class:"col-12 q-pa-none",flat:"",onClick:e.handleNavigate},{default:s(()=>[t(y,{src:e.img,ratio:16/16,style:{width:"100%"}},null,8,["src"])]),_:1},8,["onClick"]),t(A,{class:"q-pa-none row wrap items-center row ellipsis col-12",size:"lg"},{default:s(()=>[c("div",O,[c("div",T,P(e.name),1),c("div",j,P(e.subName),1)]),t(R),t(k,{color:"grey-7",round:"",flat:"",icon:"more_vert",class:"col-fit"},{default:s(()=>[t(F,{fit:"","auto-close":"",anchor:"top right",self:"bottom right"},{default:s(()=>[t(V,null,{default:s(()=>[t(L,{clickable:"",class:"",onClick:e.handleDuplicate},{default:s(()=>[t(w,null,{default:s(()=>[b("Duplicate document")]),_:1})]),_:1},8,["onClick"]),t(L,{clickable:"",class:"bg-negative",onClick:e.handleDelete},{default:s(()=>[t(w,null,{default:s(()=>[b("Delete document")]),_:1})]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}var J=v(M,[["render",H]]);const K=g({name:"QCardDocumentButtonLargeEdit",setup(){return{}},methods:{handleClick(){h.createProfile().then(e=>{e&&this.$emit("profile-created")})}}}),U=c("div",{class:"text-h6 ellipsis"},"Create Profile",-1);function W(e,o,l,r,n,i){return a(),C(Q,{bordered:"",class:"q-pa-none ellipsis row"},{default:s(()=>[t(k,{class:"ellipsis col-12",flat:"",style:{},"no-caps":"",onClick:e.handleClick},{default:s(()=>[t(y,{src:"https://img.icons8.com/512/add.png",ratio:16/16,style:{width:"100%"}}),U]),_:1},8,["onClick"])]),_:1})}var X=v(K,[["render",W]]),Y=I({name:"QResponsive",props:S,setup(e,{slots:o}){const l=N(e);return()=>m("div",{class:"q-responsive"},[m("div",{class:"q-responsive__filler overflow-hidden"},[m("div",{style:l.value})]),m("div",{class:"q-responsive__content absolute-full fit"},x(o.default))])}});const Z=g({name:"QCardDocumentButtonLargeSkeleton",setup(){return{}},methods:{}});function ee(e,o,l,r,n,i){return a(),C(Q,{bordered:"",class:"q-pa-sm col-sm-3"},{default:s(()=>[t(Y,{ratio:16/16},{default:s(()=>[t(z,{width:"100%"})]),_:1})]),_:1})}var te=v(Z,[["render",ee]]);const se=g({components:{QCardDocumentButtonLarge:J,QCardDocumentButtonLargeSkeleton:te,QCardDocumentButtonLargeCreate:X},name:"IndexPage",setup(){const e=_(null);return h.getProfilesList().then(o=>{e.value=o}),{profileList:e}},methods:{handleProfileCreated(){this.profileList=null,h.getProfilesList().then(e=>{this.profileList=e})},handleProfileDeleted(e){this.profileList&&(this.profileList=this.profileList.filter(o=>o.id!==e))}}}),oe={class:"col-6 col-xs-4 col-sm-3 q-pa-sm"},ae={key:1,class:"col-6 col-xs-4 col-sm-3 q-pa-sm"};function le(e,o,l,r,n,i){const d=$("q-card-document-button-large"),u=$("q-card-document-button-large-create"),p=$("q-card-document-button-large-skeleton");return a(),C(B,{class:"q-px-md q-pb-md row wrap items-start content-start"},{default:s(()=>[e.profileList?(a(),f(D,{key:0},[(a(!0),f(D,null,E(e.profileList,q=>(a(),f("div",{key:q.id,class:"col-6 col-xs-4 col-sm-3 q-pa-sm"},[t(d,{onProfileDeleted:e.handleProfileDeleted,data:q,class:"col-sm-3"},null,8,["onProfileDeleted","data"])]))),128)),c("div",oe,[t(u,{onProfileCreated:e.handleProfileCreated,class:"col-sm-3"},null,8,["onProfileCreated"])])],64)):(a(),f("div",ae,[t(p,{class:"col-sm-3"})]))]),_:1})}var ge=v(se,[["render",le]]);export{ge as default};
